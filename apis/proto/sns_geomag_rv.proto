// @file sns_geomag_rv.proto
//
// @brief Defines the API for Geomagnetic Rotation Vector Sensors.
//
// @copyright
// Copyright (c) 2023-2024 Qualcomm Innovation Center, Inc. All rights reserved.
// SPDX-License-Identifier: BSD-3-Clause-Clear
//
// @details This Sensor is similar to Rotation Vector, but uses a magnetometer
// instead of a gyroscope. The GeoMagRV sensor reports the orientation of the
// device relative to the East-North-Up coordinates frame.
// It is obtained by integration of accelerometer and magnetometer readings.
//
// ## Attribute Requirements:
// 1. SNS_STD_SENSOR_ATTRID_TYPE is "geomag_rv"
// 2. SNS_STD_SENSOR_ATTRID_RIGID_BODY: sns_std_sensor_rigid_body_type
// 3. SNS_STD_SENSOR_ATTRID_STREAM_TYPE as SNS_STD_SENSOR_STREAM_TYPE_STREAMING.
// 4. SNS_STD_SENSOR_ATTRID_API attribute contains "sns_geomag_rv.proto"
//
// ## Processing Stream Requests: sns_std_sensor_config
// sns_std_sensor_config::sample_rate is used to specify the sampling rate (Hz)
// of the GeoMagRV sensor. Sensor will generate data events at this rate.
//
// ## Publishing Stream Events: sns_std_sensor_event
// Output of the GeoMagRV sensor will be populated in sns_std_sensor_event
//
// The East-North-Up coordinate system is defined as a direct orthonormal
// basis where:
// - X points east and is tangential to the ground.
// - Y points north and is tangential to the ground.
// - Z points towards the sky and is perpendicular to the ground.
//
// The rotation can be seen as rotating the device by an angle theta around an
// axis rot_axis to go from the reference device orientation to the current
// device orientation. The rotation is encoded as the four unitless x, y, z, w
// components of a unit quaternion:
// @code
// sns_std_sensor_event::data[0] = rot_axis.x*sin(theta/2)
// sns_std_sensor_event::data[1] = rot_axis.y*sin(theta/2)
// sns_std_sensor_event::data[2] = rot_axis.z*sin(theta/2)
// sns_std_sensor_event::data[3] = cos(theta/2)
// @endcode
//
// Where:
// - The x, y and z fields of rot_axis are the East-North-Up coordinates
// of a unit length vector representing the rotation axis
// - theta is the rotation angle
//
// sns_std_sensor_event::status specifies the reliability of the sample value
// value is of type sns_std_sensor_sample_status. see sns_std_sensor.proto for
// details.

syntax = "proto2";
import "nanopb.proto";
import "sns_std_sensor.proto";

